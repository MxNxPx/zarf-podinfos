---
apiVersion: v1
kind: Namespace
metadata:
  labels:
    istio-injection: enabled
  name: podinfo
---
apiVersion: v1
kind: Namespace
metadata:
  labels:
    istio-injection: enabled
  name: podinfo-too
---
apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZIekNDQkFlZ0F3SUJBZ0lTQTVtcFlTK004d1N1aEpiZ0NOVm9HYllpTUEwR0NTcUdTSWIzRFFFQkN3VUEKTURJeEN6QUpCZ05WQkFZVEFsVlRNUll3RkFZRFZRUUtFdzFNWlhRbmN5QkZibU55ZVhCME1Rc3dDUVlEVlFRRApFd0pTTXpBZUZ3MHlNekF5TWpReE16VTFNekJhRncweU16QTFNalV4TXpVMU1qbGFNQmd4RmpBVUJnTlZCQU1NCkRTb3VZbWxuWW1GdVp5NWtaWFl3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRREQKdktVeldpWnVjbTYvOEQyTng0S1ZlOHQ2dUh0QVJwdzExMmY0eUd2N3hLY09Ka2J4TGJWdG9yOHBqL0hTNXRSUwpacTJ6aUlRbDl5OTg4VFZBT0Jlemd6UFBNRHhPcURleUhsNWdBdHF6cEsvZVNQbXVlWkloUjg4QkgyK1NNWXFhCjVreG1qbjc1MlJmMGpWZUNyVmRRNU1EOXJxQTAwb1FpL3pPK2dRUW96NlFTdWlFUTJwU0tZQjNndjlvSW9Kb3IKSVUxbjRxTFlBZXpuVHZGd2ptS1dQUGhSZHlzbHBjQWkxclZPK21WWDNZMkRLVS9DZnBXTkZWVlQrSDc4OFNybgo0eVA2aVdVeW1mUVV2SE9YSUkxZXJNbkVTMkg5QkRmZnVtclJmM20zSXBndWVRM3ZQaEI4ZnRqRlpvelVSajJ0Ci9XU2VhS3N5UVNvWldyOTlEV3hwQWdNQkFBR2pnZ0pITUlJQ1F6QU9CZ05WSFE4QkFmOEVCQU1DQmFBd0hRWUQKVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0VHQ0NzR0FRVUZCd01DTUF3R0ExVWRFd0VCL3dRQ01BQXdIUVlEVlIwTwpCQllFRkZXdzhBbnRwZXl0NSsvSi8vc0lIVFdrZjhNdE1COEdBMVVkSXdRWU1CYUFGQlF1c3hlM1dGYkxybEFKClFPWWZyNTJMRk1MR01GVUdDQ3NHQVFVRkJ3RUJCRWt3UnpBaEJnZ3JCZ0VGQlFjd0FZWVZhSFIwY0RvdkwzSXoKTG04dWJHVnVZM0l1YjNKbk1DSUdDQ3NHQVFVRkJ6QUNoaFpvZEhSd09pOHZjak11YVM1c1pXNWpjaTV2Y21jdgpNQmdHQTFVZEVRUVJNQStDRFNvdVltbG5ZbUZ1Wnk1a1pYWXdUQVlEVlIwZ0JFVXdRekFJQmdabmdRd0JBZ0V3Ck53WUxLd1lCQkFHQzN4TUJBUUV3S0RBbUJnZ3JCZ0VGQlFjQ0FSWWFhSFIwY0RvdkwyTndjeTVzWlhSelpXNWoKY25sd2RDNXZjbWN3Z2dFREJnb3JCZ0VFQWRaNUFnUUNCSUgwQklIeEFPOEFkUUI2TW94VTJMY3R0aURxT09CUwpIdW1FRm5BeUU0Vk5POUlyd1RwWG8xTHJVZ0FBQVlhRDdBeVRBQUFFQXdCR01FUUNJRzFqem1jZk12K0ROZEpoCjhnWXBvNDRzZ3NBU05FRjhDaldDeUhGaHZJVGlBaUFTaCtLaFpYTGFGWEtzS0Y5OWZkNkNUbktYMzBuT3oyVVIKTmZTblh3VzVKd0IyQU9nKzBObys5UVkxTXVkWEtMeUphOGtEMDh2UkVXdnM2Mm5oZDMxdEJyMXVBQUFCaG9QcwpESEFBQUFRREFFY3dSUUloQUxuYUlUSS9JdE05Rnh4QTBoYzJWQVZKNXhrMzYvRlp0ak1KeURBeDJkbUhBaUFUCmhubjhZRFJCL2ZQUm52OFBVT2N1YnFLMm1Od01SQ2s1d1FCalFHWWFuVEFOQmdrcWhraUc5dzBCQVFzRkFBT0MKQVFFQWV2aVpEbFR3OWJ6eEY5dklaMUYraWpJUW1ubWE2Q0QzMmVJRVFtRC90SXBPZWF5eHVSaU5Gekl0L2l4bwp1QzAvaEtjQytKYlZiN1pKT1Q5d29QRGNlK2czZ2JBMmkzOTB5ZjNhdjNFUDdzcHRWOTByVE04Z0xQQWR0SHhvClJXMTRjU0dtR0ZtYUJSaHI3WmJhU3VtenRXY3FnT0Y1b3JCcTI2d2toUFQ1Ym1xbjdZWDFXL0g3L09NalAxWisKZlFUZmdGbmZrQnR6ZzFJYjR6M1NISVBUcW8ya0FOM2NGK2I4QXhyVUtsazBTVHdlc1gybVI5aDlqVUtUYXBHZwpZMzZ6RGxLVE9JM2VkTTIyQVpEU21ySWlSMkxWMXFHQkRveHJzSm1uSy9DaTN0MEtqd3pKejQ1dHl6ZW5rOGtPCmltYnQvSFlWaGU4V2Z1a1Eva1FkbGhzSEN3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRkZqQ0NBdjZnQXdJQkFnSVJBSkVyQ0VyUERCaW5VL2JXTGlXblgxb3dEUVlKS29aSWh2Y05BUUVMQlFBdwpUekVMTUFrR0ExVUVCaE1DVlZNeEtUQW5CZ05WQkFvVElFbHVkR1Z5Ym1WMElGTmxZM1Z5YVhSNUlGSmxjMlZoCmNtTm9JRWR5YjNWd01SVXdFd1lEVlFRREV3eEpVMUpISUZKdmIzUWdXREV3SGhjTk1qQXdPVEEwTURBd01EQXcKV2hjTk1qVXdPVEUxTVRZd01EQXdXakF5TVFzd0NRWURWUVFHRXdKVlV6RVdNQlFHQTFVRUNoTU5UR1YwSjNNZwpSVzVqY25sd2RERUxNQWtHQTFVRUF4TUNVak13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUM3QWhVb3pQYWdsTk1QRXV5TlZaTEQrSUx4bWFaNlFvaW5YU2FxdFN1NXhVeXhyNDVyK1hYSW85Y1AKUjVRVVZUVlhqSjZvb2prWjlZSThRcWxPYnZVN3d5N2JqY0N3WFBOWk9PZnR6Mm53V2dzYnZzQ1VKQ1dIK2pkeApzeFBuSEt6aG0rL2I1RHRGVWtXV3FjRlR6alRJVXU2MXJ1MlAzbUJ3NHFWVXE3WnREcGVsUURScks5TzhadXRtCk5IejZhNHVQVnltWitEQVhYYnB5Yi91QnhhM1NobGc5RjhmbkNidnhLL2VHM01IYWNWM1VSdVBNclNYQmlMeGcKWjNWbXMvRVk5NkpjNWxQL09vaTJSNlgvRXhqcW1BbDNQNTFUK2M4QjVmV21jQmNVcjJPay81bXprNTNjVTZjRwova2lGSGFGcHJpVjF1eFBNVWdQMTdWR2hpOXNWQWdNQkFBR2pnZ0VJTUlJQkJEQU9CZ05WSFE4QkFmOEVCQU1DCkFZWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUJJR0ExVWRFd0VCL3dRSU1BWUIKQWY4Q0FRQXdIUVlEVlIwT0JCWUVGQlF1c3hlM1dGYkxybEFKUU9ZZnI1MkxGTUxHTUI4R0ExVWRJd1FZTUJhQQpGSG0wV2VaN3R1WGtBWE9BQ0lqSUdsajI2WnR1TURJR0NDc0dBUVVGQndFQkJDWXdKREFpQmdnckJnRUZCUWN3CkFvWVdhSFIwY0RvdkwzZ3hMbWt1YkdWdVkzSXViM0puTHpBbkJnTlZIUjhFSURBZU1CeWdHcUFZaGhab2RIUncKT2k4dmVERXVZeTVzWlc1amNpNXZjbWN2TUNJR0ExVWRJQVFiTUJrd0NBWUdaNEVNQVFJQk1BMEdDeXNHQVFRQgpndDhUQVFFQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQ0Z5azVIUHFQM2hVU0Z2TlZuZUxLWVk2MTFUUjZXClBUTmxjbFF0Z2FEcXcrMzRJTDlmekxkd0FMZHVPL1plbE43a0lKK203NHV5QStlaXRSWThrYzYwN1RrQzUzd2wKaWtmbVpXNC9SdlRaOE02VUsrNVV6aEs4akNkTHVNR1lMNkt2elhHUlNnaTN5TGdqZXdRdENQa0lWejZEMlFRegpDa2NoZUFtQ0o4TXF5SnU1emx6eVpNakF2bm5BVDQ1dFJBeGVrcnN1OTRzUTRlZ2RSQ25iV1NEdFk3a2grQkltCmxKTlhvQjFsQk1FS0lxNFFEVU9Yb1JnZmZ1RGdoamUxV3JHOU1MK0hiaXNxL3lGT0d3WEQ5UmlYOEY2c3c2VzQKYXZBdXZEc3p1ZTVMM3N6ODVLK0VDNFkvd0ZWRE52Wm80VFlYYW82WjBmK2xRS2MwdDhEUVl6azFPWFZ1OHJwMgp5Sk1DNmFsTGJCZk9EQUxadllIN243ZG8xQVpsczRJOWQxUDRqbmtEclFveEIzVXFROWhWbDNMRUtRNzN4RjFPCnlLNUdoRERYOG9WZkdLRjV1K2RlY0lzSDRZYVR3N21QM0dGeEpTcXYzKzBsVUZKb2k1TGM1ZGExNDlwOTBJZHMKaENFeHJvTDErN21yeUlrWFBlRk01VGdPOXIwcnZaYUJGT3ZWMnowZ3AzNVowK0w0V1BsYnVFak4vbHhQRmluKwpIbFVqcjhnUnNJM3FmSk9RRnkvOXJLSUpSMFkvOE9td3QvOG9UV2d5MW1kZUhtbWprN2oxbllzdkM5SlNRNlp2Ck1sZGxUVEtCM3poVGhWMStYV1lwNnJqZDVKVzF6YlZXRWtMTnhFN0dKVGhFVUczc3pnQlZHUDdwU1dUVVRzcVgKbkxSYndIT29xN2hId2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGWURDQ0JFaWdBd0lCQWdJUVFBRjNJVGZVNlVLNDduYXFQR1FLdHpBTkJna3Foa2lHOXcwQkFRc0ZBREEvCk1TUXdJZ1lEVlFRS0V4dEVhV2RwZEdGc0lGTnBaMjVoZEhWeVpTQlVjblZ6ZENCRGJ5NHhGekFWQmdOVkJBTVQKRGtSVFZDQlNiMjkwSUVOQklGZ3pNQjRYRFRJeE1ERXlNREU1TVRRd00xb1hEVEkwTURrek1ERTRNVFF3TTFvdwpUekVMTUFrR0ExVUVCaE1DVlZNeEtUQW5CZ05WQkFvVElFbHVkR1Z5Ym1WMElGTmxZM1Z5YVhSNUlGSmxjMlZoCmNtTm9JRWR5YjNWd01SVXdFd1lEVlFRREV3eEpVMUpISUZKdmIzUWdXREV3Z2dJaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUN0NkNSejlCUTM4NXVlSzFjb0hJZSszTGZmT0pDTWJqem1WNkI0OTNYQwpvdjcxYW03MkFFOG8yOTVvaG14RWs3YXhZLzBVRW11L0g5THFNWnNoZnRFelBMcEk5ZDE1MzdPNC94THhJWnBMCndZcUdjV2xLWm1ac2ozNDhjTCt0S1NJRzgrVEE1b0N1NGt1UHQ1bCtsQU9mMDBlWGZKbElJMVBvT0s1UENtK0QKTHRGSlY0eUFkTGJhTDlBNGpYc0RjQ0ViZGZJd1BQcVBydDNhWTZ2ckZrL0NqaEZMZnM4TDZQKzFkeTcwc250Swo0RXdTSlF4d2pRTXBvT0ZUSk93VDJlNFp2eEN6U293L2lhTmhVZDZzaHdlVTlHTng3QzdpYjF1WWdlR0pYRFI1CmJIYnZPNUJpZWViYnBKb3ZKc1hRRU9FTzN0a1FqaGI3dC9lbzk4ZmxBZ2VZanpZSWxlZmlONVlOTm5XZSt3NXkKc1IyYnZBUDVTUVhZZ2QwRnRDcldRZW1zQVhhVkNnL1kzOVc5RWg4MUx5Z1hiTktZd2FnSlpIZHVSemU2enF4WgpYbWlkZjNMV2ljVUdRU2srV1Q3ZEp2VWt5UkduV3FOTVFCOUdvWm0xcHpwUmJvWTdubjF5cHhJRmVGbnRQbEY0CkZRc0RqNDNRTHdXeVBudEtIRXR6QlJMOHh1cmdVQk44UTVOMHM4cDA1NDRmQVFqUU1OUmJjVGEwQjdyQk1EQmMKU0xlQ081aW1mV0NLb3FNcGdzeTZ2WU1FRzZLREEwR2gxZ1h4RzhLMjhLaDhoanRHcUVncWlOeDJtbmEvSDJxbApQUm1QNnpqelpON0lLdzBLS1AvMzIrSVZRdFFpMENkZDRYbitHT2R3aUsxTzV0bUxPc2JkSjFGdS83eGs5VE5EClR3SURBUUFCbzRJQlJqQ0NBVUl3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXcKU3dZSUt3WUJCUVVIQVFFRVB6QTlNRHNHQ0NzR0FRVUZCekFDaGk5b2RIUndPaTh2WVhCd2N5NXBaR1Z1ZEhKMQpjM1F1WTI5dEwzSnZiM1J6TDJSemRISnZiM1JqWVhnekxuQTNZekFmQmdOVkhTTUVHREFXZ0JURXA3R2tleXh4Cit0dmhTNUIxLzhRVllJV0pFREJVQmdOVkhTQUVUVEJMTUFnR0JtZUJEQUVDQVRBL0Jnc3JCZ0VFQVlMZkV3RUIKQVRBd01DNEdDQ3NHQVFVRkJ3SUJGaUpvZEhSd09pOHZZM0J6TG5KdmIzUXRlREV1YkdWMGMyVnVZM0o1Y0hRdQpiM0puTUR3R0ExVWRId1ExTURNd01hQXZvQzJHSzJoMGRIQTZMeTlqY213dWFXUmxiblJ5ZFhOMExtTnZiUzlFClUxUlNUMDlVUTBGWU0wTlNUQzVqY213d0hRWURWUjBPQkJZRUZIbTBXZVo3dHVYa0FYT0FDSWpJR2xqMjZadHUKTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBS2N3QnNsbTcvRGxMUXJ0Mk01MW9HclMrbzQ0Ky95UW9ERlZEQwo1V3hDdTIrYjlMUlB3a1NJQ0hYTTZ3ZWJGR0p1ZU43c0o3bzVYUFdpb1c1V2xIQVFVN0c3NUsvUW9zTXJBZFNXCjlNVWdOVFA1MkdFMjRIR050TGkxcW9KRmxjRHlxU01vNTlhaHkyY0kycUJETEtvYmt4L0ozdldyYVYwVDlWdUcKV0NMS1RWWGtjR2R0d2xmRlJqbEJ6NHBZZzFodG1mNVg2RFlPOEE0anF2MklsOURqWEE2VVNiVzFGelhTTHI5TwpoZThZNElXUzZ3WTdiQ2tqQ1dEY1JRSk1FaGc3NmZzTzN0eEUrRmlZcnVxOVJVV2hpRjFteXY0UTZXK0N5QkZDCkRmdnA3T09HQU42ZEVPTTQrcVI5c2Rqb1NZS0VCcHNyNkd0UEFRdzRkeTc1M2VjNQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRER2S1V6V2ladWNtNi8KOEQyTng0S1ZlOHQ2dUh0QVJwdzExMmY0eUd2N3hLY09Ka2J4TGJWdG9yOHBqL0hTNXRSU1pxMnppSVFsOXk5OAo4VFZBT0Jlemd6UFBNRHhPcURleUhsNWdBdHF6cEsvZVNQbXVlWkloUjg4QkgyK1NNWXFhNWt4bWpuNzUyUmYwCmpWZUNyVmRRNU1EOXJxQTAwb1FpL3pPK2dRUW96NlFTdWlFUTJwU0tZQjNndjlvSW9Kb3JJVTFuNHFMWUFlem4KVHZGd2ptS1dQUGhSZHlzbHBjQWkxclZPK21WWDNZMkRLVS9DZnBXTkZWVlQrSDc4OFNybjR5UDZpV1V5bWZRVQp2SE9YSUkxZXJNbkVTMkg5QkRmZnVtclJmM20zSXBndWVRM3ZQaEI4ZnRqRlpvelVSajJ0L1dTZWFLc3lRU29aCldyOTlEV3hwQWdNQkFBRUNnZ0VBQVc4QVJzQUNTQXpPZ3RsZm1nbzhDcHc5Z1VpWW5uL2w1UDhPNCtPVDV1UXAKMVJDeXRGR0JZcXd1ZWo5enBmZksxaytxTmdacDhWMCtHOHdvZDYveGZIOFpnZ3I0WmhzVlRWaXJtRWh0RWFQRApKZjJpMW9STmJiRDQ4eWtueUFwVTJZMldRYW9KaEFyekFmZUhESTM0ZGI4M0txUjh4K1pDMFg3TkFqZ3ZyNXpTCmIwT2ZZMnRodDRveEVXaDJtNjdGemxGZ0YrY1d5c3pSWXlmdkhmT0ZCcUxlc3VDblNmTW9Pem1iVDNTbG54SG8KNkdTYTFlL2tDSlZ6RkpOYjc0QlpUSUgwdzZBci9hMFFHODI5VlhpdnFqOGxSRU5VLzF4VUkySmhOejRSZEg3Rgo2TWVpd1FicTRwV2pIZmg0ZGp1elFGSXdPZ0NuU05Sbk51Tnl3T1Z1QVFLQmdRRGpsZUVJMVhGUWF3WG1IdEh1CjZHTWhiZ3B0Um9TVXl1dEREZG8yTUhHdkRieERPSXNjeklCanhDdVlBTTQ3bm1HTXVXYkRKVU4rMlZRQVgzMkoKV1phZ1J4V2lreG5FcXYzQjdObzd0TFNRNDJyUm8vdERCclpQQ0N1Uzl1L1pKTTRvN01DYS9WelR0YmljR09DaApiVElvVGVFdFQycGlJZGtyakhGR0dsWU9MUUtCZ1FEY0xORkhyU0pDa0hmQ296NzUrenl0ZllhbisyZEl4dVYvCk1sbnJUOFhIdDMzY3N0NFp3b0lRYnNFNm12N0o0Q0pxT2dVWUR2b0pwaW9MVjNJblVBQ0R4WGQrYlZZN1J3eFAKajI1cFh6WUwrK1JjdFZPM0lFT0NtRmt3bHEwZk5GZHJPbjhZL2NuUlR3ZDJlNjBuMDhyQ0tnSlM4S2hFQWFPMApRdlZtQUh3NHJRS0JnUURMN2hDQW51bnp1b0xGcXBaSTh0bHBLamFUcHAzRXluTzNXU0ZRYjJaZkN2ckliVkZTClUva3o3S04zaURsRWVPNUdjQmVpQTdFUWFHTjZGaGJpVFhISVd3b0s3SzhwYUdNTU0xVjJMTDJrR3ZRcnVEbTgKM0xYZDZaOUtDSlh4U0thblMwWm5XMktqbm5FM0JwKzZacU9NTkFUeldmY2t5ZG5VeVByemEwUHpYUUtCZ0VZUwoxWUNVYjhUenFjbitucnA4NVhEcDlJTmVGaDhwZmowZlQxTC9EcGxqb3VFczVGY2FlcjYwSVRkL3dQdUxKQ2plCjBtUTMwQWhtSkJkNyswN2J2VzR5MkxjYUlVbTRjUWlaUTdDeHBzZmxvV2FJSjE2dkhBMWlZM0I5WkJmOFZwNC8KL2RkOFhsRUpiL3libkI2QzM1TXdQNUVhR3RPYUdmbnpIWnNiS0czNUFvR0FXbTl0cHFodWxkUTNNQ3ZvQXI1UQpiNDJKTFNLcXdwdlZqUURpRlpQSS8wd1pUbzNXa1dtOVJkN0NBQUNoZWI4UzcwSzFyL0pJenNtSWNuajB2NHhzCnNmZCtSMzVVRSttOE1FeGJEUDRsS0ZQYXJtdmkyL1VaZmIzVkZOTW1NUFRWNkFFSUJsNk40UG1oSE1aT3NJUnMKSDRSeGJFK0ZwbXNNQVVDcGRyenZGa2M9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
kind: Secret
metadata:
  name: podinfo-tls-secret
  namespace: podinfo-too
type: kubernetes.io/tls
---
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: podinfo
  namespace: podinfo
spec:
  gateways:
  - istio-system/public
  hosts:
  - podinfo.bigbang.dev
  http:
  - route:
    - destination:
        host: podinfo
        port:
          number: 9898
---
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: podinfo-too
  namespace: podinfo-too
spec:
  gateways:
  - istio-system/passthrough
  hosts:
  - podinfo-too.bigbang.dev
  tls:
  - match:
    - sniHosts: ["podinfo-too.bigbang.dev"]
    route:
    - destination:
        host: podinfo-too
        port:
          number: 9899
---
